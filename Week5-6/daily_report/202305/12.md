# 2023/05/12(金)

## 本日の目標（TODO 目標/できるようになりたいこと）

- かめ先生の Docker 講座
  - 開発環境の応用編完了！

タイピング練習

- タイピング練習してたら 10 歳の娘が入ってきてタイピング対決しました。
  流石に負けません(大人げない)でしたが今の子は普通にタイピングが早い w
  油断したら負ける、娘にタッチタイピング教えましたがまだ厳しいかな w

## 学習時間（Hour）

- today: 10h
- total: 222h

## 目標振り返り（TODO 進捗/できるようになりたいこと振り返り）

docker の環境変数設定(dockerenv)
`ENV <key> <value>`

root 以外でファイルをコピーや作りたいとなったら

WORKDIR インストラクションで実行のディレクトリを変更する!

`RUN mkdir /sample_dir`このように RUN コマンドでディレクトリを作らなくても

`WORKDIR /sample_dir`この 1 行でディレクトリを作り かつ指定したディレクトリに移動してくれる！

実際にホストにあるファイルなどをコンテナ内の指定したディレクトリにマウントしたいときに使う！

## 学んだこと（新しい気付き、学び）

- docker-compose.yml は`docker run`コマンドのオプションに当たる部分をまとめて書いていた！！！

- わかってきました！課題の MySQLdockerfile 進化できそう。マウントできそう、、、かな？

一つのコンテナには１つのアプリケーション！！

データベースのコンテナとフロント、バックのコンテナは分ける！そんな時に活躍するのが

compose!!!

## 感想（一日の感想、雑談）

dockerfile のインストラクションの役割とかがわかってくると楽しくなってくる。

今は compose の書き方を学んでます！

run コマンドアクションを一気にまとめてかけるからオプション要らずでスッキリコンテナを起動して入れる！

`docker compose up -d`でビルドして起動。

`docker compose exec サーバー名 bashまたはzsh`でコンテナ内にインタラクティブモードで入る(-it も compose でかけちゃう！)

`docker run -v $(pwd):/rails_product -p 3000:3000 -it imageIDか名前 bash`compose 無しだとこうなる

docker-compose.yml に run コマンドのオプションを記述すると、

```yml:docker-compose.yml
version: '3'

services:
  web:
    build: .
    ports:
      - '3000:3000'
    volumes:
      - '.:/rails_product'
    # -itの部分↓
    tty: true
    stdin_open: true
```

`docker compose up -d`これだけ! **build: .** が入ってるから起動とビルドが同時にできちゃうんですね！

## 明日の目標（TODO 目標/できるようになりたいこと）

かめ先生の Docker 講座

テスト環境と本番環境のコンテナの作り方!

タッチタイピング練習

坂本さんとの面談(5/15)までにオリジナルプロダクトのテーブル定義書と ER 図完成とはいかないけどざっくりと大まかに作りたい。
