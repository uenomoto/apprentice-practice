# 2023/04/16 (日)

## 本日の目標（TODO 目標/できるようになりたいこと）

- 自販機の課題アレンジともう一回やってみました
- モジュールについて説明と外部ライブラリ使う
- デバッカ活用活用してデバックできるの内容を読んでインストール
- 静的解析ツールを使うことができるの内容を読む
  - 初期段階から入れておいて良かったと思っております。知らないメソッドやこうしてみてくださいなど
    Rubocop から学べることは多いです。

## 学習時間（Hour）

- today: 10h
- total: 54h

## 目標振り返り（TODO 進捗/できるようになりたいこと振り返り）

- 自販機の課題をアレンジし本格的な感じにしてみました
- ![画像](/Week1-2/daily_report/images/img1.png)

- ![画像](/Week1-2/daily_report/images/img2.png)

## 詰まっていること（実現したいこと/現状/行ったこと/仮説）

- 全て！詰まってないことなんてない、これからインプットします。

## 学んだこと（新しい気付き、学び）

- インスタンスメソッドとクラスメソッドの少しだけ違いに気づきました。
- **インスタンスメソッドは、クラスのインスタンス（オブジェクト）に対して呼び出される**
  **クラスメソッドは、クラス自体に対して呼び出される。インスタンスを生成せずに使用できる**
- ポリモーフィズムについて！納得しました。自動販売機の例として考えました。

  **`VendingMachine`** クラスの **`press_button`** メソッドは、引数として **`item_object`** を受け取ります。

  この **`item_object`** は、**`Item`** クラスの子クラス（**`CupCoffee`** クラスや **`Snack`** クラスや **`Drink`** クラスなど）の

  インスタンスになります。**`press_button`** メソッドは、**`item_object`** がどの子クラスのインスタンスであっても、

  共通の属性？機能？（**`name`** と **`price`** の属性）を使うことができる。

  また、**`press_button`** メソッド内で、**`is_a?`** メソッドを使ってオブジェクトのクラスをチェックし、

  特定のクラス（例えば **`CupCoffee`** クラス）に対して特別な処理を行うことによって

  （今回の場合、購入した時にカップコーヒーを買って、カップの数を管理して、あったら 1 個減らす、なかったら元々ないのでお金があっても買えない、カップコーヒーを購入しなかったらこの処理は走らないようにする）

  このように柔軟に異なるクラスのオブジェクトを扱うことができるのがポリモーフィズムの特徴だと私は思いました！！

  この概念を利用することで、**`VendingMachine`** クラスは柔軟に拡張された **`Item`** クラスの子クラスを扱うことができ、コードの再利用性や拡張性が向上します。

  あと課題のルールであったスナックポリモーフィズムは

  initialize メソッドの引数にデフォルトとしてポテトチップスと値段を書いてあげると`snack = Snack.new`だけで出力できます。

## 感想（一日の感想、雑談）

- 自動販売機の課題１からアレンジしてみました。（文字を入れたりカップの数の管理をカップクラスの中に入れたり）それを行ってて気づいた点を書きます
- カップの数が個々で管理されている hot_cup_cupcffee をカップを 100 個追加し買う → 買える cold_cup_coffee をそのまま買おうとすると、カップは 99 個あるはずなのにカップがないため買えませんと分岐されました。
  そもそも、カップの数を個々の商品で管理するのではなく,cup_coffee クラス全体でカップの数を管理したい
  そのためにはインスタンスメソッドではなく、クラスメソッドにする必要がある(らしい)
  なぜ cupcoffee.add_cup(1)で追加しないのかと言われるとできなかったからです！(hot_cup_coffee.add_cup(100)で増やしてた)
  結果、cold_cup_coffee は追加されてなく元々は金額とカップの数はありましたが、カップがない分岐に走ったため買えなかった。
- １から書くと長くなってしまうので GitHub のソースコード載せてます。
- 重要な点だけ、クラスメソッドにするには self をつける、@cup_count = 0 と初期値を決める時に **`initialize`** メソッドには入れない(空のインスタンスは作らないから)
- `undefined method メソッド名 for クラス名:Class (NoMethodError)`
  これが出たら指定されたクラスに対してクラスメソッドとして呼びたいけどないよって意味なので、指定されたクラスに対して
  self.メソッド名でクラスメソッドを作る。

  正直自信を持ってこれが正解！とは言えないので、感想として書くのはどうかなと思ったのですがこうやって書きながら考えると定着しそうな気がしますし、タッチタイピングの練習にもなるので一石二鳥です。

```ruby
  def self.cup_count
    @cup_count
  end
```

私はこれで、思った通りにいきましたがロボコップに警告されてたのでもっといい書き方があると思います
正直、インプット何もしてなく、調べながらやっていたので、次回からブラックジャックやるのではなく、本を読みます！

オブジェクト指向ってリアルの動きを知らないと、上手くコードかけない気がするので、
ブラックジャックルール知らないのやばい気がします w
ちなみに私はルール知りません。

## 明日の目標（TODO 目標/できるようになりたいこと）

- オブジェクト指向設計ガイド 100 ページぐらい読み余裕があればもっと進める
  - ただ読むのではなく自分のコードと比べて気づいてリファクタリングできるのならやる。
- 例外処理についても調べる
  - 現時点では全く知りません！！！
